<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Recruit Help - Recruiter Toolkit</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --primary-blue: #2563eb;
      --dark-blue: #1e40af;
      --light-blue: #93c5fd;
      --background: #f8fafc;
      --text-dark: #1e293b;
      --text-light: #64748b;
      --white: #ffffff;
      --border-color: #e2e8f0;
      --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
      --mobile-breakpoint: 768px;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Inter', sans-serif;
      color: var(--text-dark);
      background-color: var(--background);
      line-height: 1.6;
    }

    /* Layout Grid */
    .app-container {
      display: grid;
      grid-template-areas:
        "header header"
        "sidebar main";
      grid-template-columns: 250px 1fr;
      min-height: 100vh;
    }

    @media (max-width: var(--mobile-breakpoint)) {
      .app-container {
        grid-template-areas:
          "header"
          "main";
        grid-template-columns: 1fr;
      }
    }

    /* Header Styles */
    header {
      grid-area: header;
      background-color: var(--white);
      box-shadow: var(--shadow);
      position: sticky;
      top: 0;
      z-index: 100;
    }

    .header-content {
      max-width: 1200px;
      margin: 0 auto;
      display: flex;
      flex-direction: column;
      gap: 15px;
      padding: 15px 20px;
    }

    .logo-nav-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
    }

    .logo {
      font-size: 1.5rem;
      font-weight: 600;
      color: var(--primary-blue);
      text-decoration: none;
    }

    .nav-links {
      display: flex;
      gap: 30px;
    }

    .nav-links a {
      color: var(--text-dark);
      text-decoration: none;
      font-weight: 500;
      transition: color 0.3s;
    }

    .nav-links a:hover {
      color: var(--primary-blue);
    }

    /* Banner Ad */
    .banner-ad {
      background-color: #e0e7ff;
      padding: 10px;
      text-align: center;
      border-bottom: 1px solid var(--border-color);
      font-size: 0.9rem;
      color: var(--text-light);
      border-radius: 6px;
    }

    /* Sidebar */
    .sidebar {
      grid-area: sidebar;
      background-color: var(--white);
      border-right: 1px solid var(--border-color);
      padding: 20px;
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    @media (max-width: var(--mobile-breakpoint)) {
      .sidebar {
        display: none;
      }
    }

    .square-ad {
      background-color: #e0e7ff;
      width: 210px; /* Accounting for padding */
      height: 210px; /* Perfect square */
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 8px;
      color: var(--text-light);
      font-size: 0.9rem;
    }

    /* Main Content */
    main {
      grid-area: main;
      padding: 30px;
      width: 100%;
      max-width: 900px; /* Adjusted to accommodate sidebar */
      margin: 0 auto;
    }

    .dashboard-card {
      background-color: var(--white);
      border-radius: 8px;
      box-shadow: var(--shadow);
      padding: 30px;
      margin-bottom: 30px;
    }

    h1 {
      color: var(--primary-blue);
      margin-bottom: 20px;
      font-size: 1.8rem;
      font-weight: 700;
    }

    /* Form Styles */
    .form-group {
      margin-bottom: 20px;
    }

    label {
      display: block;
      margin-bottom: 8px;
      font-weight: 500;
      color: var(--text-dark);
    }

    select, input {
      width: 100%;
      padding: 12px 15px;
      border: 1px solid var(--border-color);
      border-radius: 6px;
      font-size: 1rem;
      font-family: 'Inter', sans-serif;
      transition: border-color 0.3s, box-shadow 0.3s;
    }

    select:focus, input:focus {
      outline: none;
      border-color: var(--primary-blue);
      box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
    }

    button {
      background-color: var(--primary-blue);
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 6px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: background-color 0.3s;
      width: 100%;
      font-family: 'Inter', sans-serif;
    }

    button:hover {
      background-color: var(--dark-blue);
    }

    /* Keyword Section */
    .keyword-section {
      background-color: #f0f9ff;
      border-radius: 8px;
      padding: 20px;
      margin-bottom: 20px;
      border-left: 4px solid var(--primary-blue);
    }

    .keyword-section h3 {
      color: var(--primary-blue);
      margin-bottom: 15px;
      font-weight: 600;
    }

    /* Output Section */
    .output {
      background-color: #f8fafc;
      border-radius: 8px;
      padding: 20px;
      margin-top: 20px;
      border-left: 4px solid var(--primary-blue);
    }

    .output a {
      color: var(--primary-blue);
      word-break: break-all;
      text-decoration: none;
      font-weight: 500;
    }

    .output a:hover {
      text-decoration: underline;
    }

    /* Mobile Navigation */
    .mobile-nav-toggle {
      display: none;
      background: none;
      border: none;
      color: var(--text-dark);
      font-size: 1.5rem;
      cursor: pointer;
    }

    @media (max-width: var(--mobile-breakpoint)) {
      .mobile-nav-toggle {
        display: block;
      }

      .nav-links {
        display: none;
        width: 100%;
        flex-direction: column;
        gap: 15px;
        padding-top: 15px;
      }

      .nav-links.active {
        display: flex;
      }
    }
    /* Animation for output */
    .fade-in {
      animation: fadeIn 0.5s ease-in-out;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* Tab styles for boolean options */
    .tab-container {
      display: flex;
      margin-bottom: 20px;
      border-bottom: 1px solid var(--border-color);
    }

    .tab-button {
      background-color: var(--white);
      border: 1px solid var(--border-color);
      border-bottom: none;
      padding: 10px 20px;
      cursor: pointer;
      font-weight: 500;
      color: var(--text-light);
      border-top-left-radius: 6px;
      border-top-right-radius: 6px;
      transition: all 0.3s ease;
      margin-right: 5px; /* Space between tabs */
    }

    .tab-button:hover {
      background-color: #f0f9ff;
      color: var(--primary-blue);
    }

    .tab-button.active {
      background-color: var(--primary-blue);
      color: var(--white);
      border-color: var(--primary-blue);
      transform: translateY(1px); /* Slight lift */
      box-shadow: var(--shadow);
    }

    .tab-content {
      display: none;
      padding-top: 10px; /* Space from tabs */
    }

    .tab-content.active {
      display: block;
    }
  </style>
</head>
<body>
  <div class="app-container">
    <header>
      <div class="header-content">
        <div class="logo-nav-container">
          <a href="#" class="logo">Recruit Help</a>
          <button class="mobile-nav-toggle" id="mobileNavToggle" aria-label="Toggle navigation"><i class="fas fa-bars"></i></button>
          <nav class="nav-links" id="navLinks">
            <a href="#">Home</a>
            <a href="#">Tools</a>
            <a href="#">Contact</a>
          </nav>
        </div>
        <div class="banner-ad">
          Advertisement Space - 728x90
        </div>
      </div>
    </header>

    <aside class="sidebar">
      <div class="square-ad">Square Ad (250x250)</div>
      <div class="square-ad">Square Ad (250x250)</div>
    </aside>

    <main>
      <div class="dashboard-card">
        <h1><i class="fas fa-search" style="margin-right: 10px;"></i>Recruiter Search Toolkit</h1>

        <div class="form-group">
          <label for="site">Select Platform:</label>
          <select id="site" onchange="toggleCountryField()">
            <option value="linkedin">LinkedIn</option>
            <option value="github">GitHub</option>
            <option value="stackoverflow">Stack Overflow</option>
            <option value="google">Google Search</option>
          </select>
        </div>

        <div class="form-group" id="countryContainer">
          <label for="country">Select Country:</label>
          <select id="country">
            <option value="India">India</option>
            <option value="Malaysia">Malaysia</option>
            <option value="Singapore">Singapore</option>
            <option value="United Kingdom">United Kingdom</option>
            <option value="United States">United States</option>
            <option value="Australia">Australia</option>
            <option disabled>───────────────────</option>
            <option value="Argentina">Argentina</option>
            <option value="Brazil">Brazil</option>
            <option value="Canada">Canada</option>
            <option value="China">China</option>
            <option value="Egypt">Egypt</option>
            <option value="France">France</option>
            <option value="Germany">Germany</option>
            <option value="Indonesia">Indonesia</option>
            <option value="Japan">Japan</option>
            <option value="Kenya">Kenya</option>
            <option value="Mexico">Mexico</option>
            <option value="Nigeria">Nigeria</option>
            <option value="Russia">Russia</option>
            <option value="South Africa">South Africa</option>
            <option value="Spain">Spain</option>
            <option value="UAE">UAE</option>
          </select>
        </div>

        <div class="tab-container">
          <button class="tab-button active" onclick="openTab(event, 'structuredSearch')">Structured Search</button>
          <button class="tab-button" onclick="openTab(event, 'directBooleanSearch')">Direct Boolean Search</button>
        </div>

        <div id="structuredSearch" class="tab-content active keyword-section">
          <h3><i class="fas fa-key" style="margin-right: 8px;"></i>Keyword Search Options</h3>
          <div class="form-group">
            <label for="allKeywords">All of these words (AND search):</label>
            <input type="text" id="allKeywords" placeholder="Keywords/phrases, separated by commas (e.g., java, react)">
          </div>
          <div class="form-group">
            <label for="anyKeywords">Any of these words (OR search):</label>
            <input type="text" id="anyKeywords" placeholder="Keywords/phrases, separated by commas (e.g., java, react)">
          </div>
          <div class="form-group">
            <label for="excludeKeywords">None of these words (NOT search):</label>
            <input type="text" id="excludeKeywords" placeholder="Keywords/phrases, separated by commas (e.g., fresher, intern)">
          </div>
        </div>

        <div id="directBooleanSearch" class="tab-content keyword-section">
          <h3><i class="fas fa-code" style="margin-right: 8px;"></i>Direct Boolean Search</h3>
          <div class="form-group">
            <label for="directKeywords">Enter Boolean Keywords:</label>
            <input type="text" id="directKeywords" placeholder='e.g. "java developer" AND "spring" NOT "junior"'>
          </div>
        </div>

        <button onclick="generateSearch()"><i class="fas fa-magic" style="margin-right: 8px;"></i>Generate Search URL</button>

        <div id="searchOutput" class="output" style="display: none;"></div>
      </div>
    </main>
  </div>

  <script>
    // Mobile navigation toggle
    document.getElementById('mobileNavToggle').addEventListener('click', function() {
      const navLinks = document.getElementById('navLinks');
      navLinks.classList.toggle('active');
    });

    // Function to toggle country field visibility based on platform
    function toggleCountryField() {
      const site = document.getElementById("site").value;
      const countryContainer = document.getElementById("countryContainer");

      if (site === "github" || site === "stackoverflow" || site === "google") {
        countryContainer.style.display = "none";
      } else {
        countryContainer.style.display = "block";
      }
    }

    // Helper function to check if a string is already quoted
    function isQuoted(str) {
      return str.startsWith('"') && str.endsWith('"');
    }

    // Helper function to process keywords based on a delimiter
    function processKeywords(input, delimiter) {
       if (!input.trim()) return [];
       return input.split(delimiter)
                  .map(part => part.trim()) // Trim whitespace from each part
                  .filter(part => part);    // Remove any empty strings
    }

    // Helper function to format a keyword for search (ensures quoting)
    function formatKeyword(keyword) {
      // If it's already quoted, return as-is
      if (isQuoted(keyword)) {
        return keyword;
      }
      // If it's multiple words or a single word, wrap in quotes for consistency
      return `"${keyword}"`;
    }

    // Function to handle tab switching
    let currentActiveTab = 'structuredSearch'; // Keep track of the active tab

    function openTab(evt, tabName) {
      // Declare all variables
      let i, tabcontent, tablinks;

      // Get all elements with class="tab-content" and hide them
      tabcontent = document.getElementsByClassName("tab-content");
      for (i = 0; i < tabcontent.length; i++) {
        tabcontent[i].style.display = "none";
        tabcontent[i].classList.remove('active'); // Remove active class from content
      }

      // Get all elements with class="tab-button" and remove the class "active"
      tablinks = document.getElementsByClassName("tab-button");
      for (i = 0; i < tablinks.length; i++) {
        tablinks[i].classList.remove("active");
      }

      // Show the current tab, and add an "active" class to the button that opened the tab
      document.getElementById(tabName).style.display = "block";
      document.getElementById(tabName).classList.add('active'); // Add active class to content
      evt.currentTarget.classList.add("active");

      currentActiveTab = tabName; // Update the active tab
    }

    // Main function to generate the search URL
    function generateSearch() {
      const platform = document.getElementById("site").value;
      const country = document.getElementById("country").value;

      let keywordQuery = "";

      // Determine which search method is active
      if (currentActiveTab === 'structuredSearch') {
        const allKeywordsInput = document.getElementById("allKeywords").value.trim();
        const anyKeywordsInput = document.getElementById("anyKeywords").value.trim();
        const excludeKeywordsInput = document.getElementById("excludeKeywords").value.trim();

        // Process ALL keywords (AND) - uses comma as delimiter
        if (allKeywordsInput) {
          const keywords = processKeywords(allKeywordsInput, ',');
          if (keywords.length > 0) {
            keywordQuery = keywords.map(formatKeyword).join(" AND ");
          }
        }

        // Process ANY keywords (OR) - uses comma as delimiter
        if (anyKeywordsInput) {
          const keywords = processKeywords(anyKeywordsInput, ',');
          if (keywords.length > 0) {
            const orPart = keywords.map(formatKeyword).join(" OR ");
            if (keywordQuery) {
              // If there's an existing AND query, wrap OR part in parentheses
              keywordQuery += ` AND (${orPart})`;
            } else {
              keywordQuery = orPart;
            }
          }
        }

        // Process EXCLUDE keywords (NOT) - uses comma as delimiter
        if (excludeKeywordsInput) {
          const keywords = processKeywords(excludeKeywordsInput, ',');
          if (keywords.length > 0) {
            // Each excluded term is formatted and prepended with '-'
            // Then joined by a space, as Google NOT operators are space-separated
            const notPart = keywords.map(k => `-${formatKeyword(k)}`).join(" ");
            if (keywordQuery) {
              keywordQuery += ` ${notPart}`;
            } else {
              keywordQuery = notPart;
            }
          }
        }
      } else if (currentActiveTab === 'directBooleanSearch') {
        // Direct Boolean Search logic
        keywordQuery = document.getElementById("directKeywords").value.trim();
      }

      const tldMap = {
        "India": "in", "Malaysia": "my", "Singapore": "sg", "United Kingdom": "uk",
        "United States": "us", "Australia": "au", "Argentina": "ar", "Brazil": "br",
        "Canada": "ca", "China": "cn", "Egypt": "eg", "France": "fr", "Germany": "de",
        "Indonesia": "id", "Japan": "jp", "Kenya": "ke", "Mexico": "mx", "Nigeria": "ng",
        "Russia": "ru", "South Africa": "za", "Spain": "es", "UAE": "ae"
      };

      const tld = tldMap[country] || "com";
      let siteQuery = "";

      if (platform === "linkedin") {
        siteQuery = `-intitle:"profiles" -inurl:"dir/" site:${tld}.linkedin.com/in/ OR site:${tld}.linkedin.com/pub/`;
      } else if (platform === "github") {
        siteQuery = `site:github.com`;
      } else if (platform === "stackoverflow") {
        siteQuery = `site:stackoverflow.com/users`;
      } else if (platform === "google") {
        siteQuery = ""; // No site restriction for general Google search
      }

      let finalQuery = "";
      if (keywordQuery && siteQuery) {
        finalQuery = `${keywordQuery} ${siteQuery}`;
      } else if (keywordQuery) {
        finalQuery = keywordQuery;
      } else if (siteQuery) {
        finalQuery = siteQuery;
      }

      const searchURL = `https://www.google.com/search?q=${encodeURIComponent(finalQuery)}`;

      const outputDiv = document.getElementById("searchOutput");
      if (finalQuery) { // Only show output if there's something to search
        outputDiv.innerHTML =
          `<strong><i class="fas fa-link"></i> Search URL:</strong><br><a href="${searchURL}" target="_blank" rel="noopener noreferrer">${searchURL}</a><br><br>
           <strong><i class="fas fa-code"></i> Boolean Query:</strong><br>${finalQuery}`;
        outputDiv.style.display = "block";
        outputDiv.classList.add('fade-in');
        // Remove animation class after it finishes to allow re-triggering
        setTimeout(() => outputDiv.classList.remove('fade-in'), 500);

        outputDiv.scrollIntoView({ behavior: 'smooth' });
      } else {
        outputDiv.innerHTML = 'Please enter keywords or select a platform for site-specific search.';
        outputDiv.style.display = "block";
      }
    }

    // Initialize correct view on page load
    window.onload = function() {
      toggleCountryField();
      document.getElementById('navLinks').classList.remove('active');
      const mobileToggle = document.getElementById('mobileNavToggle');
      if (mobileToggle && !mobileToggle.hasAttribute('aria-label')) {
          mobileToggle.setAttribute('aria-label', 'Toggle navigation');
      }
      // Set the default active tab on load
      document.querySelector('.tab-button').click(); // Simulates a click on the first tab
    };
  </script>
</body>
</html>
